<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
        label{
            display: block;
        }
    </style>
    <title>regexp and post</title>
</head>
<body>

<form action="">
    <label>
        userId
       <input type="text" name="userId">
    </label>
    <label>
        title
        <input type="text" name="title">
    </label>
    <label>
        body
        <input type="text" name="body">
    </label>

    <button>save</button>
</form>

<script>

<!--    Приклади використання url -->

let form = document.forms[0];
form.onsubmit = function (ev){
    ev.preventDefault();
//     let userId = this.userId.value;
//     перевірка чи це стрінга
//     шукаємо інформацію g (глобально) в стрінзі userId
//     вводити між слешами
//     \d - дозволено тільки символи (повертає масив введеного) digital
//     [0-4] - діапазон від 0 до 9
//     можна зробити умову, якщо не співпадає, не match (!)
//
//     if(!userId.match(/[0-5]/g)){
//         console.log('error')
//     }else{
//         console.log('red error')
//     }
//     console.log(userId.match(/[0-9]/g));
//
//
//     let title = this.title.value;
//     let body = this.body.value;
//     повинно містити більше ні один символ (\w+)
//     (\s) - між символами повинен бути пробіл
//     {3,} - таких слів повинно бути від 3
//
//     щоб перевірити зробим буліан і перевіримо !!
//     тобто body не співпадає з match - патерним виразом
//     console.log(!!body.match(/(\w+\s){3,}/g));
//
// це все регулярні вирази
//     регулярні вирази можна знайти в інтернет regex
//     або на сайті regex онлайн generator


//     Ще приклад -----------------
    let title = this.title.value;
    let body = this.body.value;
    let userId = this.userId.value;
    if(userId.match(/[0-9]/g) && !!body.match(/(\w+\s){3,}/g)){
        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify({
                title: title,
                body: body,
                userId: +userId,
            }),
            headers: {
                'Content-type': 'application/json; charset=UTF-8',
            },
        })
            .then((response) => response.json())
            .then((json) => console.log(json));
    }



}









</script>

</body>
</html>